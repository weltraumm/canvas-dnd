(this["webpackJsonpcanvas-dnd"]=this["webpackJsonpcanvas-dnd"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(7),r=n.n(a),s=(n(12),n(5)),l=n(6),o=n(0),u="square",f="circle",b=function(e){e.beginPath(),e.strokeStyle="black",e.moveTo(251,0),e.lineTo(251,700),e.stroke(),e.closePath()},d=function(e,t,n){return{x:e,y:t,initial:n,choosen:!1,side:130,type:u,color:"#ffe533"}},h=function(e,t,n){return{x:e,y:t,initial:n,choosen:!1,radius:65,type:f,color:"#fb3291"}},j=function(e,t){switch(t.beginPath(),t.fillStyle=e.color,e.type){case u:t.fillRect(e.x,e.y,e.side,e.side);break;case f:t.arc(e.x,e.y,e.radius,0,2*Math.PI),t.fill()}t.closePath()},x=function(e,t){if(t.beginPath(),t.strokeStyle="#272727",t.lineWidth=3,null!==e){switch(e.type){case u:t.strokeRect(e.x,e.y,e.side,e.side);break;case f:t.arc(e.x,e.y,e.radius,0,2*Math.PI),t.stroke()}t.closePath()}},p=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(null),r=Object(l.a)(a,2),p=r[0],v=r[1],y=Object(c.useRef)(),O=null,g=P(n),k=P(p);function P(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}Object(c.useEffect)((function(){O=y.current.getContext("2d"),k!==p&&(O.beginPath(),O.clearRect(0,0,900,700),b(O),n.map((function(e){j(e,O)})),x(p,O),O.closePath())}),[p]),Object(c.useEffect)((function(){O=y.current.getContext("2d"),b(O);var e=d(60,60,true),t=h(125,315,true);i([].concat(Object(s.a)(n),[e,t]))}),[]),Object(c.useEffect)((function(){if(O=y.current.getContext("2d"),g)if(g.length<n.length){var e=n.filter((function(e){return g.indexOf(e)<0}));O.beginPath(),e.map((function(e){j(e,O)})),O.closePath()}else g.length>n.length&&(O.beginPath(),O.clearRect(0,0,900,700),n.map((function(e){j(e,O)})),O.closePath())}),[n]);var m=!1,E=null,w=null,M=null,S=!1,I=function(e){E=null,m=!1};return Object(o.jsx)("canvas",{onMouseDown:function(e){if(w=parseInt(e.nativeEvent.offsetX-y.current.clientLeft),M=parseInt(e.nativeEvent.offsetY-y.current.clientTop),w>251&&(S=!0),m=function(e,t){for(var c=null,i=0;i<n.length;i++){var a=n[i];if(a.type===u&&e>=a.x&&e<=a.x+a.side&&t>=a.y&&t<=a.y+a.side&&!a.initial){E=a,c=!0;break}if(a.type===f&&(e-a.x)*(e-a.x)+(t-a.y)*(t-a.y)<=a.radius*a.radius&&!a.initial){E=a,c=!0;break}}return c}(w,M),function(e,t){for(var c=!1,i=!1,a=0;a<n.length;a++){var r=n[a];if(r.type===u&&e>=r.x&&e<=r.x+r.side&&t>=r.y&&t<=r.y+r.side){if(!r.initial){i=!0;break}c=!0}if(r.type===f&&(e-r.x)*(e-r.x)+(t-r.y)*(t-r.y)<=r.radius*r.radius){if(!r.initial){i=!0;break}c=!0}}return!i&&c}(w,M)){var t=null;switch(function(e,t){for(var c=null,i=0;i<n.length;i++){var a=n[i];if(a.type===u&&e>=a.x&&e<=a.x+a.side&&t>=a.y&&t<=a.y+a.side){c=u;break}if(a.type===f&&(e-a.x)*(e-a.x)+(t-a.y)*(t-a.y)<=a.radius*a.radius){c=f;break}}return c}(w,M)){case u:t=d(60,60,false);break;case f:t=h(125,315,false)}i([].concat(Object(s.a)(n),[t])),E=t}v(E)},onMouseMove:function(e){if(m){var t=parseInt(e.nativeEvent.offsetX-y.current.clientLeft),c=parseInt(e.nativeEvent.offsetY-y.current.clientTop),i=t-w,a=c-M;w=t,M=c,E.x+=i,E.y+=a,O.beginPath(),O.clearRect(0,0,900,700),n.map((function(e){j(e,O)})),b(O),x(E,O),O.closePath(),S&&t<251&&I(e)}},onMouseUp:I,onMouseOut:function(e){I(e)},ref:y,width:900,height:700})};var v=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("h2",{children:"Canvas Drag'n'Drop"}),Object(o.jsx)("p",{className:"titleSection figureTitle",children:Object(o.jsx)("b",{children:"Figures"})}),Object(o.jsx)("p",{className:"titleSection canvasTitle",children:Object(o.jsx)("b",{children:"Canvas"})}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"wrapper",children:Object(o.jsx)(p,{})})]})};r.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(v,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.c8c52e18.chunk.js.map